(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{2286:(e,s,r)=>{Promise.resolve().then(r.bind(r,6117))},2657:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7565).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3081:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let t=r(3464).A.create({baseURL:"https://smart-agriculture-21dt.onrender.com/",withCredentials:!0});t.interceptors.request.use(e=>(e.withCredentials=!0,e),e=>Promise.reject(e)),t.interceptors.response.use(e=>e,async e=>{let s=e.config;if(s.url.includes("/auth/refresh"))return window.location.href="/auth/login",Promise.reject(e);if(e.response&&401===e.response.status)try{return await t.post("/auth/refresh",{},{withCredentials:!0}),t(s)}catch(e){return window.location.href="/auth/login",Promise.reject(e)}return Promise.reject(e)}),t.defaults.withCredentials=!0;let a=t},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},6117:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(5155),a=r(2115),n=r(3081),l=r(6766),i=r(5695),o=r(8749),c=r(2657),d=r(6874),u=r.n(d);let m=()=>{let[e,s]=(0,a.useState)(null),[r,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[j,w]=(0,a.useState)({strength:"",color:""}),[b,N]=(0,a.useState)({username:"",email:"",farmname:"",phonenumber:"",password:"",confirmpassword:""}),y=(0,i.useRouter)(),v="w-full px-4 py-2 border border-green-300 bg-green-50 text-green-900 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",k="block text-green-700 mb-1",C=e=>{let s=0;return(e.length>=8&&s++,/[A-Z]/.test(e)&&s++,/[a-z]/.test(e)&&s++,/[0-9]/.test(e)&&s++,/[^A-Za-z0-9]/.test(e)&&s++,s<=2)?{strength:"Weak",color:"red"}:3===s||4===s?{strength:"Medium",color:"orange"}:{strength:"Strong",color:"green"}},A=e=>{let{name:s,value:r}=e.target;N(e=>({...e,[s]:r})),"password"===s&&w(C(r))},P=async e=>{if(e.preventDefault(),b.password!==b.confirmpassword){s("Passwords do not match"),setTimeout(()=>s(""),3e3);return}d(!0),s(""),h("");try{let e=await n.A.post("/auth/register",{username:b.username,email:b.email,farmname:b.farmname,phonenumber:b.phonenumber,password:b.password});h(e.data.message||"Registered successfully!"),y.push("/auth/verification")}catch(e){console.error("Error registering from backend",e instanceof Error?e:Error(String(e))),s("Error registering. Try again"),setTimeout(()=>s(""),3e3)}finally{d(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-green-50 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl bg-white shadow-xl rounded-2xl p-8 space-y-6 ",children:[(0,t.jsx)("h2",{className:"text-3xl font-extrabold text-center text-green-800",children:"Register Panel"}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(l.default,{src:"/logo.png",alt:"Logo",width:80,height:40,className:"rounded-full"})}),(0,t.jsx)("p",{className:"text-center text-green-700",children:"To enjoy seamless Agriculture insight, register below"}),(0,t.jsxs)("form",{onSubmit:P,className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:k,children:"Username:"}),(0,t.jsx)("input",{type:"text",name:"username",value:b.username,onChange:A,placeholder:"samdoe",required:!0,className:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:k,children:"Farm Name:"}),(0,t.jsx)("input",{type:"text",name:"farmname",value:b.farmname,onChange:A,placeholder:"smartfarm",required:!0,className:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:k,children:"Email:"}),(0,t.jsx)("input",{type:"email",name:"email",value:b.email,onChange:A,placeholder:"email",required:!0,className:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:k,children:"Phone Number:"}),(0,t.jsx)("input",{type:"text",name:"phonenumber",value:b.phonenumber,onChange:A,placeholder:"07xxxxxx",required:!0,className:v})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:k,children:"Password:"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:x?"text":"password",name:"password",value:b.password,onChange:A,required:!0,className:v}),(0,t.jsx)("span",{onClick:()=>p(!x),className:"absolute top-2 right-3 cursor-pointer text-green-600",children:x?(0,t.jsx)(o.A,{}):(0,t.jsx)(c.A,{})})]}),b.password&&(0,t.jsxs)("p",{className:"mt-1 text-sm",style:{color:j.color},children:["Password strength: ",j.strength]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:k,children:"Confirm Password:"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:g?"text":"password",name:"confirmpassword",value:b.confirmpassword,onChange:A,required:!0,className:v}),(0,t.jsx)("span",{onClick:()=>f(!g),className:"absolute top-2 right-3 cursor-pointer text-green-600",children:g?(0,t.jsx)(o.A,{}):(0,t.jsx)(c.A,{})})]})]}),(0,t.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300",children:r?"Registering...":"Register"})]}),m&&(0,t.jsx)("p",{className:"text-center text-green-700 font-medium",children:m}),e&&(0,t.jsx)("p",{className:"text-center text-red-600 font-medium",children:e}),(0,t.jsx)(u(),{href:"/auth/login",className:"text-green-600 hover:underline",children:"or Login"})]})})}},8749:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7565).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[464,651,874,441,684,358],()=>s(2286)),_N_E=e.O()}]);