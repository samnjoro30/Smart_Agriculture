(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{3081:(e,r,s)=>{"use strict";s.d(r,{A:()=>n});let t=s(3464).A.create({baseURL:"https://smart-agriculture-21dt.onrender.com/",withCredentials:!0});t.interceptors.request.use(e=>(e.withCredentials=!0,e),e=>Promise.reject(e)),t.interceptors.response.use(e=>e,async e=>{let r=e.config;if(r.url.includes("/auth/refresh"))return window.location.href="/auth/login",Promise.reject(e);if(e.response&&401===e.response.status)try{return await t.post("/auth/refresh",{},{withCredentials:!0}),t(r)}catch(e){return window.location.href="/auth/login",Promise.reject(e)}return Promise.reject(e)}),t.defaults.withCredentials=!0;let n=t},5311:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var t=s(5155),n=s(2115),a=s(3081),i=s(5695);function o(){let[e,r]=(0,n.useState)(!1),[s,o]=(0,n.useState)(""),[l,c]=(0,n.useState)({email:"",newPassword:"",confirmPassword:""}),u=(0,i.useRouter)(),d="block text-green-700 font-bold mb-1",h="w-full px-4 py-2 border border-green-300 bg-green-50 text-green-900 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",m=e=>{let{name:r,value:s}=e.target;c(e=>({...e,[r]:s}))},g=async e=>{e.preventDefault(),r(!0),o("");try{let e=await a.A.post("/auth/reset-password",l);c(e.data.message),setTimeout(()=>{u.push("/login")},1e3)}catch(e){console.error("Error occurred during resetting, please try again: ",e instanceof Error?e:Error(String(e)))}finally{r(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-green-50 px-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-white shadow-lg rounded-xl p-8 space-y-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-green-800 text-center",children:"Reset Password"}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:d,children:"Email:"}),(0,t.jsx)("input",{type:"",onChange:m,className:h,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:d,children:"New Password:"}),(0,t.jsx)("input",{type:"",onChange:m,className:h,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:d,children:"Confirm New Password:"}),(0,t.jsx)("input",{type:"",onChange:m,className:h,required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:e,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-md transition duration-300 ".concat(e?"opacity-70 cursor-not-allowed":""),children:e?"Reseting ..":"Reset Password"})]}),s&&(0,t.jsx)("p",{style:{color:"red"},children:s})]})})}},5695:(e,r,s)=>{"use strict";var t=s(8999);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})},5732:(e,r,s)=>{Promise.resolve().then(s.bind(s,5311))}},e=>{var r=r=>e(e.s=r);e.O(0,[464,441,684,358],()=>r(5732)),_N_E=e.O()}]);