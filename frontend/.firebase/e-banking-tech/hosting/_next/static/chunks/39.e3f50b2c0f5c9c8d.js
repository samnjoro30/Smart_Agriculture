"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{6039:(e,s,l)=>{l.r(s),l.d(s,{default:()=>r});var a=l(5155),n=l(2115),t=l(3081);function r(){let[e,s]=(0,n.useState)(null),[l,r]=(0,n.useState)(!0),[d,c]=(0,n.useState)({email:"",farmname:"",phonenumber:"",password:""}),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=(await t.A.get("/users/userprofile",{withCredentials:!0})).data.message;s(e),c({email:e.email,farmname:e.farmname,phonenumber:e.phonenumber,password:""})}catch(e){console.error("Error fetching details",e instanceof Error?e:Error(String(e)))}finally{r(!1)}})()},[]);let m=e=>{c({...d,[e.target.name]:e.target.value})},x=async e=>{try{await t.A.put("/users/update-".concat(e),{[e]:d[e]}),o(null),alert("".concat(e," updated successfully!"))}catch(s){console.error("Error updating ".concat(e),s)}};return l?(0,a.jsx)("p",{className:"text-center",children:"Loading profile..."}):(0,a.jsxs)("div",{className:"max-w-6xl mx-auto bg-white p-2 rounded-xl shadow-md mt-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-green-700 mb-3 text-center",children:"Profile Settings"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 h-auto",children:[(0,a.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg shadow-sm",children:[(0,a.jsx)("h3",{className:"text-green-500 font-bold text-center border-b border-green-500 mb-6",children:"Details"}),e?(0,a.jsxs)("ul",{className:"space-y-1 text-gray-700",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{className:"text-gray-800 font-bold py-2",children:"FarmName: "})," ",e.farmname]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{className:"text-gray-800 font-bold py-2",children:"Username: "})," ",e.username]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{className:"text-gray-800 font-bold py-2",children:"Email: "})," ",e.email]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{className:"text-gray-800 font-bold py-2",children:"PhoneNumber: "})," ",e.phonenumber]})]}):(0,a.jsx)("p",{children:"loading ..."})]}),(0,a.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg shadow-sm space-y-4",children:[(0,a.jsx)("h3",{className:"text-green-500 text-center font-bold",children:"Setting"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-sm text-gray-700 mb-1 font-bold",children:"Email:"}),"email"===i?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"email",name:"email",value:d.email,onChange:m,className:"flex-1 border rounded-lg px-3 py-2 text-gray-700"}),(0,a.jsx)("button",{onClick:()=>x("email"),className:"bg-green-600 text-white px-3 py-2 rounded-lg",children:"Save"}),(0,a.jsx)("button",{onClick:()=>o(null),className:"bg-red-600 px-3 py-2 rounded-lg",children:"Cancel"})]}):(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:null==e?void 0:e.email}),(0,a.jsx)("button",{onClick:()=>o("email"),className:"text-green-600 font-medium",children:"Change"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-sm text-gray-600 mb-1 font-bold",children:"Farm Name:"}),"farmname"===i?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",name:"farmname",value:d.farmname,onChange:m,className:"flex-1 border rounded-lg px-3 py-2 text-gray-500"}),(0,a.jsx)("button",{onClick:()=>x("farmname"),className:"bg-green-600 text-white px-3 py-2 rounded-lg",children:"Save"}),(0,a.jsx)("button",{onClick:()=>o(null),className:"bg-red-500 px-3 py-2 rounded-lg",children:"Cancel"})]}):(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:null==e?void 0:e.farmname}),(0,a.jsx)("button",{onClick:()=>o("farmname"),className:"text-green-600 font-medium",children:"Change"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-sm text-gray-600 mb-1 font-bold",children:"Phone:"}),"phonenumber"===i?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",name:"phonenumber",value:d.phonenumber,onChange:m,className:"flex-1 border rounded-lg px-3 py-2 text-gray-500"}),(0,a.jsx)("button",{onClick:()=>x("phonenumber"),className:"bg-green-600 text-white px-3 py-2 rounded-lg",children:"Save"}),(0,a.jsx)("button",{onClick:()=>o(null),className:"bg-red-500 px-3 py-2 rounded-lg",children:"Cancel"})]}):(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{children:null==e?void 0:e.phonenumber}),(0,a.jsx)("button",{onClick:()=>o("phonenumber"),className:"text-green-600 font-medium",children:"Change"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-sm text-gray-600 mb-1 font-bold",children:"Password"}),"password"===i?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"password",name:"password",value:d.password,onChange:m,className:"flex-1 border rounded-lg px-3 py-2 text-gray-500"}),(0,a.jsx)("button",{onClick:()=>x("password"),className:"bg-green-600 text-white px-3 py-2 rounded-lg",children:"Save"}),(0,a.jsx)("button",{onClick:()=>o(null),className:"bg-red-500 px-3 py-2 rounded-lg ",children:"Cancel"})]}):(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"••••••••"}),(0,a.jsx)("button",{onClick:()=>o("password"),className:"text-green-600 font-medium",children:"Change"})]})]})]})]})]})}}}]);