(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{250:(e,t,r)=>{Promise.resolve().then(r.bind(r,760))},760:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(5155),n=r(2115),l=r(6766),a=r(1007),i=r(3509),d=r(2098),o=r(4835),c=r(3081);function x(){let[e,t]=(0,n.useState)("light"),[r,x]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=localStorage.getItem("theme");e&&(t(e),document.documentElement.classList.toggle("dark","dark"===e))},[]),(0,n.useEffect)(()=>{(async()=>{try{let t=(await c.A.get("/users/userprofile",{withCredentials:!0})).data.message||"user",r=t.username;if(r>=2)x(t.substring(0).toUpperCase());else{var e;x((null==(e=r[0])?void 0:e.toUpperCase())||"U")}}catch(e){console.error("Error retriving username letters",e instanceof Error?e:Error(String(e)))}})()},[]);let m=async()=>{try{await c.A.post("/auth/logout"),window.location.href="/auth/login"}catch(e){console.error("Error occurred during logout",e instanceof Error?e:Error(String(e)))}};return(0,s.jsx)("div",{className:"bg-green-200 shadow-green-400 sticky mb-1 rounded-b-xl",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-1 py-4 flex items-center justify-between",children:[(0,s.jsx)(l.default,{src:"/logo.png",width:60,height:40,alt:"logo",className:"left-3 rounded-full"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-green-500",children:"Smart Agriculture"}),(0,s.jsx)("div",{className:"bg-green-600 text-white px-3 py-1 rounded-full hover:bg-green-700 transition-all duration-200",children:r||(0,s.jsx)(a.A,{})}),(0,s.jsx)("button",{className:"bg-green-600 text-white px-3 py-1 rounded-full hover:bg-green-700 transition-all duration-200",onClick:()=>{let r="light"===e?"dark":"light";t(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark","dark"===r)},children:"light"===e?(0,s.jsx)(i.A,{}):(0,s.jsx)(d.A,{})}),(0,s.jsxs)("button",{className:"flex items-center space-x-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-full hover:from-green-600 hover:to-emerald-700 transition-all duration-200 shadow-sm",onClick:m,children:[(0,s.jsx)(o.A,{size:18}),(0,s.jsx)("span",{className:"hidden sm:block",children:"Logout"})]})]})})}function m(){let e=new Date().getFullYear();return(0,s.jsx)("div",{className:"border-t bg-green-700 border-white-700 h-12 py-2 px-6 pt-2 text-center text-sm text-green-400",children:(0,s.jsxs)("p",{children:[" \xa9 ",e," Smart Farm. All Rights reserved "]})})}var h=r(3783),g=r(3861),u=r(7108),p=r(9376),f=r(2713),b=r(5339),j=r(7395),w=r(5028);function N(){let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async()=>{try{let e=await c.A.get("/users/userprofile",{withCredentials:!0});t(e.data.message)}catch(e){console.error("Error occurred fetching details",e instanceof Error?e:Error(String(e)))}})()},[]),(0,s.jsxs)("div",{className:"bg-white py-1 px-1 pb-1 rounded-xl",children:[(0,s.jsxs)("div",{className:"bg-green-100 py-6 px-6 rounded-2xl mb-4 shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[(0,s.jsxs)("h2",{className:"text-green-900 font-extrabold text-3xl mb-2 text-center",children:[" Welcome back ",null==e?void 0:e.username,"! \uD83C\uDF31"]}),(0,s.jsx)("p",{className:"text-green-800 text-center italic text-lg",children:"Together we grow stronger. Explore the latest tools, tips, and opportunities for farmers like you."})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-4 space-y-4 md:space-y-0",children:[(0,s.jsx)("div",{className:"bg-green-100 py-6 px-4 rounded-xl flex-1",children:e?(0,s.jsxs)("ul",{className:"border-t border-green-500",children:[(0,s.jsxs)("li",{className:"text-black",children:[(0,s.jsx)("strong",{children:"Name:"})," ",e.username]}),(0,s.jsxs)("li",{className:"text-black",children:[(0,s.jsx)("strong",{children:"Email:"})," ",e.email]})]}):(0,s.jsx)("p",{className:"animate-spin rounded-full h-10 w-9 border-green-200"})}),(0,s.jsx)("div",{className:"bg-green-100 py-6 px-4 rounded-xl flex-1",children:e?(0,s.jsxs)("ul",{className:"border-t border-green-500 py-5 px-4",children:[(0,s.jsxs)("li",{className:"text-black",children:[(0,s.jsx)("strong",{children:"Farm:"})," ",e.farmname]}),(0,s.jsxs)("li",{className:"text-black",children:[(0,s.jsx)("strong",{children:"Phone:"})," ",e.phonenumber]})]}):(0,s.jsx)("p",{})})]}),(0,s.jsx)("div",{className:"flex flex-col py-4 bg-white-300 rounded-full",children:(0,s.jsxs)("div",{className:"bg-green-100 rounded-xl py-5 px-4 flex-1",children:[(0,s.jsx)("h3",{className:"text-green-600 font-bold text-center",children:"Updates"}),(0,s.jsx)("p",{className:"text-gray-800 italic mb-4",children:"find latest trends in farming"}),(0,s.jsx)("p",{className:"text-gray-800 italic mb-4",children:"Emerging trends and topic in terms of agriculture"})]})})]})}let v=(0,w.default)(()=>r.e(39).then(r.bind(r,6039)),{loadableGenerated:{webpack:()=>[6039]},loading:()=>(0,s.jsx)("p",{children:" Loading ..."})}),y=(0,w.default)(()=>r.e(186).then(r.bind(r,4186)),{loadableGenerated:{webpack:()=>[4186]},loading:()=>(0,s.jsx)("p",{children:"loading ..."})}),k=(0,w.default)(()=>r.e(503).then(r.bind(r,3503)),{loadableGenerated:{webpack:()=>[3503]},loading:()=>(0,s.jsx)("p",{children:"Loading ..."})}),A=(0,w.default)(()=>r.e(724).then(r.bind(r,7724)),{loadableGenerated:{webpack:()=>[7724]},loading:()=>(0,s.jsx)("p",{children:"Loading ..."})}),C=(0,w.default)(()=>r.e(448).then(r.bind(r,3448)),{loadableGenerated:{webpack:()=>[3448]},loading:()=>(0,s.jsx)("p",{children:"Loading ..."})});function E(){let[e,t]=(0,n.useState)("overview");return(0,s.jsxs)("div",{className:"flex min-h-full",children:[(0,s.jsxs)("div",{className:"sticky top-0 left-1 md:h-full overflow-y-auto shrink-0 w-16 md:w-64 bg-green-200 shadow-md p-2 md:p-4 space-y-6 transition-all duration-300 ",children:[(0,s.jsx)("h2",{className:"text-green-700 font-semibold mb-2 border-b border-green-300",children:"Dashboard"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsxs)("button",{onClick:()=>t("overview"),className:"flex items-center gap-2 text-left px-3 py-2 rounded-md hover:bg-green-300 ".concat("overview"===e?"bg-green-300 text-green-800 font-semibold":"text-green-600"),children:[(0,s.jsx)(h.A,{size:18}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Overview"})]}),(0,s.jsxs)("button",{onClick:()=>t("notifications"),className:"flex items-center gap-2 text-left px-3 py-2 text-green-600 rounded-md hover:bg-green-300",children:[(0,s.jsx)(g.A,{size:18}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Notifications"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-green-700 font-semibold mb-2 border-b border-green-300",children:"Product"}),(0,s.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 text-left px-3 py-2 text-green-600 font-bold rounded-md hover:bg-green-300",onClick:()=>t("farmer"),children:[(0,s.jsx)(u.A,{}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Farm Inputs"})]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 text-left px-3 py-2 text-green-600 font-bold rounded-md hover:bg-green-300",children:[(0,s.jsx)(p.A,{}),(0,s.jsx)("span",{className:"hidden md:inline",children:"AI Insights"})]}),(0,s.jsxs)("button",{onClick:()=>t("Analytics"),className:"flex items-center gap-2 text-left px-3 py-2 text-green-600 font-bold rounded-md hover:bg-green-300",children:[(0,s.jsx)(f.A,{}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Farm Analytics"})]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 text-left px-3 py-2 text-green-600 font-bold rounded-md hover:bg-green-300",children:[(0,s.jsx)(b.A,{}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Alerts"})]}),(0,s.jsxs)("button",{onClick:()=>t("profile"),className:"flex items-center gap-2 text-left px-3 py-2 text-green-600 font-bold rounded-md hover:bg-green-300",children:[(0,s.jsx)(a.A,{}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Farmer Profile"})]})]})]}),(0,s.jsx)("div",{className:"mt-35 border-t border-green-300",children:(0,s.jsxs)("button",{onClick:()=>t("Contact"),className:"flex items-center gap-2 text-green-400  px-3 py-2  rounded-md hover:bg-green-300 transition",children:[(0,s.jsx)(j.A,{}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Contact Support"})]})})]}),(0,s.jsx)("div",{className:"flex-1 p-2 md:h-full ml-2 mr-2 bg-green-200",children:(()=>{switch(e){case"overview":return(0,s.jsx)(N,{});case"notifications":return(0,s.jsx)(y,{});case"packages":return"development in place";case"profile":return(0,s.jsx)(v,{});case"Contact":return(0,s.jsx)(A,{});case"farmer":return(0,s.jsx)(k,{});case"Analytics":return(0,s.jsx)(C,{});default:return"choose options in the side bar"}})()})]})}function S(){let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=async e=>{e.preventDefault(),t(e),l(!1)};return window.addEventListener("beforeinstallprompt",e),window.matchMedia("(display-mode: standalone)").matches&&l(!0),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let a=async()=>{if(!e)return;e.prompt();let{outcome:r}=await e.userChoice;t(null),"accepted"===r?console.log("✅ User accepted the install prompt."):console.log("❌ User dismissed the install prompt.")};return(0,s.jsxs)("div",{className:"bg-green-50 flex flex-col min-h-screen",children:[(0,s.jsx)(x,{}),!r&&e&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("button",{onClick:a,className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-green-700 transition",children:"Install App"})}),(0,s.jsx)("main",{className:"flex-grow",children:(0,s.jsx)(E,{})}),(0,s.jsx)(m,{})]})}},3081:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let s=r(3464).A.create({baseURL:"https://smart-agriculture-21dt.onrender.com/",withCredentials:!0});s.interceptors.request.use(e=>(e.withCredentials=!0,e),e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>{let t=e.config;if(t.url.includes("/auth/refresh"))return window.location.href="/auth/login",Promise.reject(e);if(e.response&&401===e.response.status)try{return await s.post("/auth/refresh",{},{withCredentials:!0}),s(t)}catch(e){return window.location.href="/auth/login",Promise.reject(e)}return Promise.reject(e)}),s.defaults.withCredentials=!0;let n=s}},e=>{var t=t=>e(e.s=t);e.O(0,[464,651,139,441,684,358],()=>t(250)),_N_E=e.O()}]);